<div class="card" [class.compact]="compact">
  <div class="image-container">
    <img [src]="car.images[0]" 
         [alt]="car.make + ' ' + car.model" 
         class="car-image">
    <div class="image-overlay"></div>
    <div class="price-tag">
      <span class="price">₺{{ car.price }}/gün</span>
    </div>
  </div>

  <div class="content">
    <div>
      <h3 class="car-title">
        {{ car.category === 'Park Alanı' ? 'Park Alanı' : car.year + ' ' + car.make + ' ' + car.model }}
      </h3>
      <div class="car-details">
        <div class="detail-item" *ngIf="car.category !== 'Park Alanı'">
          <svg xmlns="http://www.w3.org/2000/svg" class="detail-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
          <span>{{ car.mileage | number }} km</span>
        </div>
        <div class="detail-item">
          <svg xmlns="http://www.w3.org/2000/svg" class="detail-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
          </svg>
          <span>{{ car.location.address }}</span>
        </div>
      </div>
    </div>

    <ng-container *ngIf="!compact">
      <div class="features-list">
        <span *ngFor="let feature of car.features.slice(0, 3)" class="feature-tag">
          {{ feature }}
        </span>
        <span *ngIf="car.features.length > 3" class="feature-tag">
          +{{ car.features.length - 3 }} more
        </span>
      </div>

      <div class="owner-section">
        <div class="owner-info">
          <div class="owner-avatar">
            <span class="owner-initial">{{ car.owner.displayName[0] }}</span>
          </div>
          <div class="owner-details">
            <div class="owner-name">{{ car.owner.displayName }}</div>
            <div class="owner-rating">
              <svg xmlns="http://www.w3.org/2000/svg" class="rating-star" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
              </svg>
              <!-- ><span>{{ car.owner.rating }}/5.0</span> -->
            </div>
          </div>
        </div>
        
        <div class="contact-buttons">
          <a [href]="'tel:' + car.owner.phone" class="contact-button">
            <svg xmlns="http://www.w3.org/2000/svg" class="contact-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
          </a>
          <a [href]="'mailto:' + car.owner.email" class="contact-button">
            <svg xmlns="http://www.w3.org/2000/svg" class="contact-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
          </a>
        </div>
      </div>

            <!-- Book Now Button -->
            <app-button 
            [routerLink]="['/book', car.id]" 
            [full]="true" 
            class="mt-4">
            Book Now
          </app-button>
    </ng-container>
  </div>
</div>